{"remainingRequest":"E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\project\\jeeThinkManager\\jeethink-ui\\src\\layout\\mixin\\ResizeHandler.js","dependencies":[{"path":"E:\\project\\jeeThinkManager\\jeethink-ui\\src\\layout\\mixin\\ResizeHandler.js","mtime":1613979786218},{"path":"E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9wcm9qZWN0L2plZVRoaW5rTWFuYWdlci9qZWV0aGluay11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3N0b3JlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3N0b3JlIikpOwoKdmFyIF9kb2N1bWVudCA9IGRvY3VtZW50LAogICAgYm9keSA9IF9kb2N1bWVudC5ib2R5Owp2YXIgV0lEVEggPSA5OTI7IC8vIHJlZmVyIHRvIEJvb3RzdHJhcCdzIHJlc3BvbnNpdmUgZGVzaWduCgp2YXIgX2RlZmF1bHQgPSB7CiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHJvdXRlKSB7CiAgICAgIGlmICh0aGlzLmRldmljZSA9PT0gJ21vYmlsZScgJiYgdGhpcy5zaWRlYmFyLm9wZW5lZCkgewogICAgICAgIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCdhcHAvY2xvc2VTaWRlQmFyJywgewogICAgICAgICAgd2l0aG91dEFuaW1hdGlvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuJF9yZXNpemVIYW5kbGVyKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy4kX3Jlc2l6ZUhhbmRsZXIpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBpc01vYmlsZSA9IHRoaXMuJF9pc01vYmlsZSgpOwoKICAgIGlmIChpc01vYmlsZSkgewogICAgICBfc3RvcmUuZGVmYXVsdC5kaXNwYXRjaCgnYXBwL3RvZ2dsZURldmljZScsICdtb2JpbGUnKTsKCiAgICAgIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCdhcHAvY2xvc2VTaWRlQmFyJywgewogICAgICAgIHdpdGhvdXRBbmltYXRpb246IHRydWUKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyB1c2UgJF8gZm9yIG1peGlucyBwcm9wZXJ0aWVzCiAgICAvLyBodHRwczovL3Z1ZWpzLm9yZy92Mi9zdHlsZS1ndWlkZS9pbmRleC5odG1sI1ByaXZhdGUtcHJvcGVydHktbmFtZXMtZXNzZW50aWFsCiAgICAkX2lzTW9iaWxlOiBmdW5jdGlvbiAkX2lzTW9iaWxlKCkgewogICAgICB2YXIgcmVjdCA9IGJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHJldHVybiByZWN0LndpZHRoIC0gMSA8IFdJRFRIOwogICAgfSwKICAgICRfcmVzaXplSGFuZGxlcjogZnVuY3Rpb24gJF9yZXNpemVIYW5kbGVyKCkgewogICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikgewogICAgICAgIHZhciBpc01vYmlsZSA9IHRoaXMuJF9pc01vYmlsZSgpOwoKICAgICAgICBfc3RvcmUuZGVmYXVsdC5kaXNwYXRjaCgnYXBwL3RvZ2dsZURldmljZScsIGlzTW9iaWxlID8gJ21vYmlsZScgOiAnZGVza3RvcCcpOwoKICAgICAgICBpZiAoaXNNb2JpbGUpIHsKICAgICAgICAgIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCdhcHAvY2xvc2VTaWRlQmFyJywgewogICAgICAgICAgICB3aXRob3V0QW5pbWF0aW9uOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["E:/project/jeeThinkManager/jeethink-ui/src/layout/mixin/ResizeHandler.js"],"names":["document","body","WIDTH","watch","$route","route","device","sidebar","opened","store","dispatch","withoutAnimation","beforeMount","window","addEventListener","$_resizeHandler","beforeDestroy","removeEventListener","mounted","isMobile","$_isMobile","methods","rect","getBoundingClientRect","width","hidden"],"mappings":";;;;;;;;;AAAA;;AAEA,gBAAiBA,QAAjB;AAAA,IAAQC,IAAR,aAAQA,IAAR;AACA,IAAMC,KAAK,GAAG,GAAd,C,CAAkB;;eAEH;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MADK,kBACEC,KADF,EACS;AACZ,UAAI,KAAKC,MAAL,KAAgB,QAAhB,IAA4B,KAAKC,OAAL,CAAaC,MAA7C,EAAqD;AACnDC,uBAAMC,QAAN,CAAe,kBAAf,EAAmC;AAAEC,UAAAA,gBAAgB,EAAE;AAApB,SAAnC;AACD;AACF;AALI,GADM;AAQbC,EAAAA,WARa,yBAQC;AACZC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,eAAvC;AACD,GAVY;AAWbC,EAAAA,aAXa,2BAWG;AACdH,IAAAA,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqC,KAAKF,eAA1C;AACD,GAbY;AAcbG,EAAAA,OAda,qBAcH;AACR,QAAMC,QAAQ,GAAG,KAAKC,UAAL,EAAjB;;AACA,QAAID,QAAJ,EAAc;AACZV,qBAAMC,QAAN,CAAe,kBAAf,EAAmC,QAAnC;;AACAD,qBAAMC,QAAN,CAAe,kBAAf,EAAmC;AAAEC,QAAAA,gBAAgB,EAAE;AAApB,OAAnC;AACD;AACF,GApBY;AAqBbU,EAAAA,OAAO,EAAE;AACP;AACA;AACAD,IAAAA,UAHO,wBAGM;AACX,UAAME,IAAI,GAAGrB,IAAI,CAACsB,qBAAL,EAAb;AACA,aAAOD,IAAI,CAACE,KAAL,GAAa,CAAb,GAAiBtB,KAAxB;AACD,KANM;AAOPa,IAAAA,eAPO,6BAOW;AAChB,UAAI,CAACf,QAAQ,CAACyB,MAAd,EAAsB;AACpB,YAAMN,QAAQ,GAAG,KAAKC,UAAL,EAAjB;;AACAX,uBAAMC,QAAN,CAAe,kBAAf,EAAmCS,QAAQ,GAAG,QAAH,GAAc,SAAzD;;AAEA,YAAIA,QAAJ,EAAc;AACZV,yBAAMC,QAAN,CAAe,kBAAf,EAAmC;AAAEC,YAAAA,gBAAgB,EAAE;AAApB,WAAnC;AACD;AACF;AACF;AAhBM;AArBI,C","sourcesContent":["import store from '@/store'\r\n\r\nconst { body } = document\r\nconst WIDTH = 992 // refer to Bootstrap's responsive design\r\n\r\nexport default {\r\n  watch: {\r\n    $route(route) {\r\n      if (this.device === 'mobile' && this.sidebar.opened) {\r\n        store.dispatch('app/closeSideBar', { withoutAnimation: false })\r\n      }\r\n    }\r\n  },\r\n  beforeMount() {\r\n    window.addEventListener('resize', this.$_resizeHandler)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.$_resizeHandler)\r\n  },\r\n  mounted() {\r\n    const isMobile = this.$_isMobile()\r\n    if (isMobile) {\r\n      store.dispatch('app/toggleDevice', 'mobile')\r\n      store.dispatch('app/closeSideBar', { withoutAnimation: true })\r\n    }\r\n  },\r\n  methods: {\r\n    // use $_ for mixins properties\r\n    // https://vuejs.org/v2/style-guide/index.html#Private-property-names-essential\r\n    $_isMobile() {\r\n      const rect = body.getBoundingClientRect()\r\n      return rect.width - 1 < WIDTH\r\n    },\r\n    $_resizeHandler() {\r\n      if (!document.hidden) {\r\n        const isMobile = this.$_isMobile()\r\n        store.dispatch('app/toggleDevice', isMobile ? 'mobile' : 'desktop')\r\n\r\n        if (isMobile) {\r\n          store.dispatch('app/closeSideBar', { withoutAnimation: true })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}