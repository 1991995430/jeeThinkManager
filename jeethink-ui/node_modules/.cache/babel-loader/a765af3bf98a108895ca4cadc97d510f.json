{"remainingRequest":"D:\\Program Files\\project\\jeethink-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\Program Files\\project\\jeethink-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Program Files\\project\\jeethink-ui\\src\\store\\modules\\permission.js","dependencies":[{"path":"D:\\Program Files\\project\\jeethink-ui\\src\\store\\modules\\permission.js","mtime":1631165248889},{"path":"D:\\Program Files\\project\\jeethink-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1631165235945},{"path":"D:\\Program Files\\project\\jeethink-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1631165234881},{"path":"D:\\Program Files\\project\\jeethink-ui\\node_modules\\eslint-loader\\index.js","mtime":1631165240019}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9Qcm9ncmFtIEZpbGVzL3Byb2plY3QvamVldGhpbmstdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0IikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5sb2FkVmlldyA9IHZvaWQgMDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKdmFyIF9yb3V0ZXIgPSByZXF1aXJlKCJAL3JvdXRlciIpOwoKdmFyIF9tZW51ID0gcmVxdWlyZSgiQC9hcGkvbWVudSIpOwoKdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9sYXlvdXQvaW5kZXgiKSk7Cgp2YXIgX1BhcmVudFZpZXcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvY29tcG9uZW50cy9QYXJlbnRWaWV3IikpOwoKdmFyIHBlcm1pc3Npb24gPSB7CiAgc3RhdGU6IHsKICAgIHJvdXRlczogW10sCiAgICBhZGRSb3V0ZXM6IFtdLAogICAgZGVmYXVsdFJvdXRlczogW10sCiAgICB0b3BiYXJSb3V0ZXJzOiBbXSwKICAgIHNpZGViYXJSb3V0ZXJzOiBbXQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfUk9VVEVTOiBmdW5jdGlvbiBTRVRfUk9VVEVTKHN0YXRlLCByb3V0ZXMpIHsKICAgICAgc3RhdGUuYWRkUm91dGVzID0gcm91dGVzOwogICAgICBzdGF0ZS5yb3V0ZXMgPSBfcm91dGVyLmNvbnN0YW50Um91dGVzLmNvbmNhdChyb3V0ZXMpOwogICAgfSwKICAgIFNFVF9ERUZBVUxUX1JPVVRFUzogZnVuY3Rpb24gU0VUX0RFRkFVTFRfUk9VVEVTKHN0YXRlLCByb3V0ZXMpIHsKICAgICAgc3RhdGUuZGVmYXVsdFJvdXRlcyA9IF9yb3V0ZXIuY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcyk7CiAgICB9LAogICAgU0VUX1RPUEJBUl9ST1VURVM6IGZ1bmN0aW9uIFNFVF9UT1BCQVJfUk9VVEVTKHN0YXRlLCByb3V0ZXMpIHsKICAgICAgLy8g6aG26YOo5a+86Iiq6I+c5Y2V6buY6K6k5re75Yqg57uf6K6h5oql6KGo5qCP5oyH5ZCR6aaW6aG1CiAgICAgIHZhciBpbmRleCA9IFt7CiAgICAgICAgcGF0aDogJ2luZGV4JywKICAgICAgICBtZXRhOiB7CiAgICAgICAgICB0aXRsZTogJ+e7n+iuoeaKpeihqCcsCiAgICAgICAgICBpY29uOiAnZGFzaGJvYXJkJwogICAgICAgIH0KICAgICAgfV07CiAgICAgIHN0YXRlLnRvcGJhclJvdXRlcnMgPSByb3V0ZXMuY29uY2F0KGluZGV4KTsKICAgIH0sCiAgICBTRVRfU0lERUJBUl9ST1VURVJTOiBmdW5jdGlvbiBTRVRfU0lERUJBUl9ST1VURVJTKHN0YXRlLCByb3V0ZXMpIHsKICAgICAgc3RhdGUuc2lkZWJhclJvdXRlcnMgPSByb3V0ZXM7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyDnlJ/miJDot6/nlLEKICAgIEdlbmVyYXRlUm91dGVzOiBmdW5jdGlvbiBHZW5lcmF0ZVJvdXRlcyhfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgLy8g5ZCR5ZCO56uv6K+35rGC6Lev55Sx5pWw5o2uCiAgICAgICAgKDAsIF9tZW51LmdldFJvdXRlcnMpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgc2RhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKSk7CiAgICAgICAgICB2YXIgcmRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKSk7CiAgICAgICAgICB2YXIgc2lkZWJhclJvdXRlcyA9IGZpbHRlckFzeW5jUm91dGVyKHNkYXRhKTsKICAgICAgICAgIHZhciByZXdyaXRlUm91dGVzID0gZmlsdGVyQXN5bmNSb3V0ZXIocmRhdGEsIGZhbHNlLCB0cnVlKTsKICAgICAgICAgIHJld3JpdGVSb3V0ZXMucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICcqJywKICAgICAgICAgICAgcmVkaXJlY3Q6ICcvNDA0JywKICAgICAgICAgICAgaGlkZGVuOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1JPVVRFUycsIHJld3JpdGVSb3V0ZXMpOwogICAgICAgICAgY29tbWl0KCdTRVRfU0lERUJBUl9ST1VURVJTJywgX3JvdXRlci5jb25zdGFudFJvdXRlcy5jb25jYXQoc2lkZWJhclJvdXRlcykpOwogICAgICAgICAgY29tbWl0KCdTRVRfREVGQVVMVF9ST1VURVMnLCBzaWRlYmFyUm91dGVzKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPUEJBUl9ST1VURVMnLCBzaWRlYmFyUm91dGVzKTsKICAgICAgICAgIHJlc29sdmUocmV3cml0ZVJvdXRlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTsgLy8g6YGN5Y6G5ZCO5Y+w5Lyg5p2l55qE6Lev55Sx5a2X56ym5Liy77yM6L2s5o2i5Li657uE5Lu25a+56LGhCgpmdW5jdGlvbiBmaWx0ZXJBc3luY1JvdXRlcihhc3luY1JvdXRlck1hcCkgewogIHZhciBsYXN0Um91dGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7CiAgcmV0dXJuIGFzeW5jUm91dGVyTWFwLmZpbHRlcihmdW5jdGlvbiAocm91dGUpIHsKICAgIGlmICh0eXBlICYmIHJvdXRlLmNoaWxkcmVuKSB7CiAgICAgIHJvdXRlLmNoaWxkcmVuID0gZmlsdGVyQ2hpbGRyZW4ocm91dGUuY2hpbGRyZW4pOwogICAgfQoKICAgIGlmIChyb3V0ZS5jb21wb25lbnQpIHsKICAgICAgLy8gTGF5b3V0IFBhcmVudFZpZXcg57uE5Lu254m55q6K5aSE55CGCiAgICAgIGlmIChyb3V0ZS5jb21wb25lbnQgPT09ICdMYXlvdXQnKSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gX2luZGV4LmRlZmF1bHQ7CiAgICAgIH0gZWxzZSBpZiAocm91dGUuY29tcG9uZW50ID09PSAnUGFyZW50VmlldycpIHsKICAgICAgICByb3V0ZS5jb21wb25lbnQgPSBfUGFyZW50Vmlldy5kZWZhdWx0OwogICAgICB9IGVsc2UgewogICAgICAgIHJvdXRlLmNvbXBvbmVudCA9IGxvYWRWaWV3KHJvdXRlLmNvbXBvbmVudCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocm91dGUuY2hpbGRyZW4gIT0gbnVsbCAmJiByb3V0ZS5jaGlsZHJlbiAmJiByb3V0ZS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgcm91dGUuY2hpbGRyZW4gPSBmaWx0ZXJBc3luY1JvdXRlcihyb3V0ZS5jaGlsZHJlbiwgcm91dGUsIHR5cGUpOwogICAgfSBlbHNlIHsKICAgICAgZGVsZXRlIHJvdXRlWydjaGlsZHJlbiddOwogICAgICBkZWxldGUgcm91dGVbJ3JlZGlyZWN0J107CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfSk7Cn0KCmZ1bmN0aW9uIGZpbHRlckNoaWxkcmVuKGNoaWxkcmVuTWFwKSB7CiAgdmFyIGxhc3RSb3V0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogIHZhciBjaGlsZHJlbiA9IFtdOwogIGNoaWxkcmVuTWFwLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkgewogICAgaWYgKGVsLmNoaWxkcmVuICYmIGVsLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICBpZiAoZWwuY29tcG9uZW50ID09PSAnUGFyZW50VmlldycpIHsKICAgICAgICBlbC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICBjLnBhdGggPSBlbC5wYXRoICsgJy8nICsgYy5wYXRoOwoKICAgICAgICAgIGlmIChjLmNoaWxkcmVuICYmIGMuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uY29uY2F0KGZpbHRlckNoaWxkcmVuKGMuY2hpbGRyZW4sIGMpKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGNoaWxkcmVuLnB1c2goYyk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9CgogICAgaWYgKGxhc3RSb3V0ZXIpIHsKICAgICAgZWwucGF0aCA9IGxhc3RSb3V0ZXIucGF0aCArICcvJyArIGVsLnBhdGg7CiAgICB9CgogICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5jb25jYXQoZWwpOwogIH0pOwogIHJldHVybiBjaGlsZHJlbjsKfQoKdmFyIGxvYWRWaWV3ID0gZnVuY3Rpb24gbG9hZFZpZXcodmlldykgewogIC8vIOi3r+eUseaHkuWKoOi9vQogIHJldHVybiBmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgcmV0dXJuIHJlcXVpcmUoWyJAL3ZpZXdzLyIuY29uY2F0KHZpZXcpXSwgcmVzb2x2ZSk7CiAgfTsKfTsKCmV4cG9ydHMubG9hZFZpZXcgPSBsb2FkVmlldzsKdmFyIF9kZWZhdWx0ID0gcGVybWlzc2lvbjsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["D:/Program Files/project/jeethink-ui/src/store/modules/permission.js"],"names":["permission","state","routes","addRoutes","defaultRoutes","topbarRouters","sidebarRouters","mutations","SET_ROUTES","constantRoutes","concat","SET_DEFAULT_ROUTES","SET_TOPBAR_ROUTES","index","path","meta","title","icon","SET_SIDEBAR_ROUTERS","actions","GenerateRoutes","commit","Promise","resolve","then","res","sdata","JSON","parse","stringify","data","rdata","sidebarRoutes","filterAsyncRouter","rewriteRoutes","push","redirect","hidden","asyncRouterMap","lastRouter","type","filter","route","children","filterChildren","component","Layout","ParentView","loadView","length","childrenMap","forEach","el","c","view","require"],"mappings":"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","sourcesContent":["import { constantRoutes } from '@/router'\r\nimport { getRouters } from '@/api/menu'\r\nimport Layout from '@/layout/index'\r\nimport ParentView from '@/components/ParentView';\r\n\r\nconst permission = {\r\n  state: {\r\n    routes: [],\r\n    addRoutes: [],\r\n    defaultRoutes: [],\r\n    topbarRouters: [],\r\n    sidebarRouters: []\r\n  },\r\n  mutations: {\r\n    SET_ROUTES: (state, routes) => {\r\n      state.addRoutes = routes\r\n      state.routes = constantRoutes.concat(routes)\r\n    },\r\n    SET_DEFAULT_ROUTES: (state, routes) => {\r\n      state.defaultRoutes = constantRoutes.concat(routes)\r\n    },\r\n    SET_TOPBAR_ROUTES: (state, routes) => {\r\n      // 顶部导航菜单默认添加统计报表栏指向首页\r\n      const index = [{\r\n        path: 'index',\r\n        meta: { title: '统计报表', icon: 'dashboard'}\r\n      }]\r\n      state.topbarRouters = routes.concat(index);\r\n    },\r\n    SET_SIDEBAR_ROUTERS: (state, routes) => {\r\n      state.sidebarRouters = routes\r\n    },\r\n  },\r\n  actions: {\r\n    // 生成路由\r\n    GenerateRoutes({ commit }) {\r\n      return new Promise(resolve => {\r\n        // 向后端请求路由数据\r\n        getRouters().then(res => {\r\n          const sdata = JSON.parse(JSON.stringify(res.data))\r\n          const rdata = JSON.parse(JSON.stringify(res.data))\r\n          const sidebarRoutes = filterAsyncRouter(sdata)\r\n          const rewriteRoutes = filterAsyncRouter(rdata, false, true)\r\n          rewriteRoutes.push({ path: '*', redirect: '/404', hidden: true })\r\n          commit('SET_ROUTES', rewriteRoutes)\r\n          commit('SET_SIDEBAR_ROUTERS', constantRoutes.concat(sidebarRoutes))\r\n          commit('SET_DEFAULT_ROUTES', sidebarRoutes)\r\n          commit('SET_TOPBAR_ROUTES', sidebarRoutes)\r\n          resolve(rewriteRoutes)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 遍历后台传来的路由字符串，转换为组件对象\r\nfunction filterAsyncRouter(asyncRouterMap, lastRouter = false, type = false) {\r\n  return asyncRouterMap.filter(route => {\r\n    if (type && route.children) {\r\n      route.children = filterChildren(route.children)\r\n    }\r\n    if (route.component) {\r\n      // Layout ParentView 组件特殊处理\r\n      if (route.component === 'Layout') {\r\n        route.component = Layout\r\n      } else if (route.component === 'ParentView') {\r\n        route.component = ParentView\r\n      } else {\r\n        route.component = loadView(route.component)\r\n      }\r\n    }\r\n    if (route.children != null && route.children && route.children.length) {\r\n      route.children = filterAsyncRouter(route.children, route, type)\r\n    } else {\r\n      delete route['children']\r\n      delete route['redirect']\r\n    }\r\n    return true\r\n  })\r\n}\r\n\r\nfunction filterChildren(childrenMap, lastRouter = false) {\r\n  var children = []\r\n  childrenMap.forEach((el, index) => {\r\n    if (el.children && el.children.length) {\r\n      if (el.component === 'ParentView') {\r\n        el.children.forEach(c => {\r\n          c.path = el.path + '/' + c.path\r\n          if (c.children && c.children.length) {\r\n            children = children.concat(filterChildren(c.children, c))\r\n            return\r\n          }\r\n          children.push(c)\r\n        })\r\n        return\r\n      }\r\n    }\r\n    if (lastRouter) {\r\n      el.path = lastRouter.path + '/' + el.path\r\n    }\r\n    children = children.concat(el)\r\n  })\r\n  return children\r\n}\r\n\r\nexport const loadView = (view) => { // 路由懒加载\r\n  return (resolve) => require([`@/views/${view}`], resolve)\r\n}\r\n\r\nexport default permission\r\n"]}]}