{"remainingRequest":"E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\project\\jeeThinkManager\\jeethink-ui\\src\\directive\\permission\\hasRole.js","dependencies":[{"path":"E:\\project\\jeeThinkManager\\jeethink-ui\\src\\directive\\permission\\hasRole.js","mtime":1622445674623},{"path":"E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\project\\jeeThinkManager\\jeethink-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9wcm9qZWN0L2plZVRoaW5rTWFuYWdlci9qZWV0aGluay11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKCnZhciBfc3RvcmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvc3RvcmUiKSk7CgovKioNCiog6KeS6Imy5p2D6ZmQ5aSE55CGDQoqIENvcHlyaWdodCAoYykgMjAxOSBqZWV0aGluaw0KKi8KdmFyIF9kZWZhdWx0ID0gewogIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZywgdm5vZGUpIHsKICAgIHZhciB2YWx1ZSA9IGJpbmRpbmcudmFsdWU7CiAgICB2YXIgc3VwZXJfYWRtaW4gPSAiYWRtaW4iOwogICAgdmFyIHJvbGVzID0gX3N0b3JlLmRlZmF1bHQuZ2V0dGVycyAmJiBfc3RvcmUuZGVmYXVsdC5nZXR0ZXJzLnJvbGVzOwoKICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIHJvbGVGbGFnID0gdmFsdWU7CiAgICAgIHZhciBoYXNSb2xlID0gcm9sZXMuc29tZShmdW5jdGlvbiAocm9sZSkgewogICAgICAgIHJldHVybiBzdXBlcl9hZG1pbiA9PT0gcm9sZSB8fCByb2xlRmxhZy5pbmNsdWRlcyhyb2xlKTsKICAgICAgfSk7CgogICAgICBpZiAoIWhhc1JvbGUpIHsKICAgICAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlx1OEJGN1x1OEJCRVx1N0Y2RVx1ODlEMlx1ODI3Mlx1Njc0M1x1OTY1MFx1NjgwN1x1N0I3RVx1NTAzQ1wiIik7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["E:/project/jeeThinkManager/jeethink-ui/src/directive/permission/hasRole.js"],"names":["inserted","el","binding","vnode","value","super_admin","roles","store","getters","Array","length","roleFlag","hasRole","some","role","includes","parentNode","removeChild","Error"],"mappings":";;;;;;;;;;;;;AAKA;;AALC;AACD;AACA;AACA;eAIe;AACbA,EAAAA,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;AAC3B,QAAQC,KAAR,GAAkBF,OAAlB,CAAQE,KAAR;AACA,QAAMC,WAAW,GAAG,OAApB;AACA,QAAMC,KAAK,GAAGC,eAAMC,OAAN,IAAiBD,eAAMC,OAAN,CAAcF,KAA7C;;AAEA,QAAIF,KAAK,IAAIA,KAAK,YAAYK,KAA1B,IAAmCL,KAAK,CAACM,MAAN,GAAe,CAAtD,EAAyD;AACvD,UAAMC,QAAQ,GAAGP,KAAjB;AAEA,UAAMQ,OAAO,GAAGN,KAAK,CAACO,IAAN,CAAW,UAAAC,IAAI,EAAI;AACjC,eAAOT,WAAW,KAAKS,IAAhB,IAAwBH,QAAQ,CAACI,QAAT,CAAkBD,IAAlB,CAA/B;AACD,OAFe,CAAhB;;AAIA,UAAI,CAACF,OAAL,EAAc;AACZX,QAAAA,EAAE,CAACe,UAAH,IAAiBf,EAAE,CAACe,UAAH,CAAcC,WAAd,CAA0BhB,EAA1B,CAAjB;AACD;AACF,KAVD,MAUO;AACL,YAAM,IAAIiB,KAAJ,kEAAN;AACD;AACF;AAnBY,C","sourcesContent":[" /**\r\n * 角色权限处理\r\n * Copyright (c) 2019 jeethink\r\n */\r\n \r\nimport store from '@/store'\r\n\r\nexport default {\r\n  inserted(el, binding, vnode) {\r\n    const { value } = binding\r\n    const super_admin = \"admin\";\r\n    const roles = store.getters && store.getters.roles\r\n\r\n    if (value && value instanceof Array && value.length > 0) {\r\n      const roleFlag = value\r\n\r\n      const hasRole = roles.some(role => {\r\n        return super_admin === role || roleFlag.includes(role)\r\n      })\r\n\r\n      if (!hasRole) {\r\n        el.parentNode && el.parentNode.removeChild(el)\r\n      }\r\n    } else {\r\n      throw new Error(`请设置角色权限标签值\"`)\r\n    }\r\n  }\r\n}\r\n"]}]}